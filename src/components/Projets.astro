<section class="projects-container">
    <h2 class="section-title">Mes Projets</h2>

    <div class="carousel-wrapper">
        <div class="carousel">
            <!-- Projet 1 -->
            <div class="project-card active">
                <a href="https://mon-site-projet1.com" target="_blank" class="project-link">
                    <img src="/src/assets/projects/projet1.jpg" alt="Projet 1" class="project-image" />
                    <h3 class="project-title">Projet 1</h3>
                    <p class="project-description">Une brève description du projet 1.</p>
                </a>
                <div class="project-footer">Voir plus</div>
            </div>

            <!-- Projet 2 -->
            <div class="project-card">
                <a href="#" class="project-link">
                    <img src="/src/assets/projects/projet2.jpg" alt="Projet 2" class="project-image" />
                    <h3 class="project-title">Projet 2</h3>
                    <p class="project-description">Projet réalisé lors d'un stage en entreprise.</p>
                </a>
                <div class="project-footer">Privé (Stage en entreprise)</div>
            </div>

            <!-- Projet 3 -->
            <div class="project-card">
                <a href="https://mon-site-projet3.com" target="_blank" class="project-link">
                    <img src="/src/assets/projects/projet3.jpg" alt="Projet 3" class="project-image" />
                    <h3 class="project-title">Projet 3</h3>
                    <p class="project-description">Un autre super projet !</p>
                </a>
                <div class="project-footer">Voir plus</div>
            </div>

            <!-- Projet 4 -->
            <div class="project-card">
                <a href="#" class="project-link">
                    <img src="/src/assets/projects/projet4.jpg" alt="Projet 4" class="project-image" />
                    <h3 class="project-title">Projet 4</h3>
                    <p class="project-description">Projet confidentiel en entreprise.</p>
                </a>
                <div class="project-footer">Privé (Stage en entreprise)</div>
            </div>
        </div>

        <!-- Flèches -->
        <button class="carousel-btn prev" id="prevBtn">&#10094;</button>
        <button class="carousel-btn next" id="nextBtn">&#10095;</button>

        <!-- Points -->
        <div class="carousel-dots">
            <span class="dot active" data-index="0"></span>
            <span class="dot" data-index="1"></span>
            <span class="dot" data-index="2"></span>
            <span class="dot" data-index="3"></span>
        </div>
    </div>
</section>
<style>
    .projects-container {
        padding: 2rem;
        text-align: center;
    }

    .section-title {
        font-size: 2.8rem;
        margin-bottom: 2rem;
        color: var(--text-color, #222);
    }

    .carousel-wrapper {
        position: relative;
        max-width: 1000px;
        margin: 0 auto;
        overflow: hidden;
    }

    .carousel {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 480px;
        position: relative;
    }

    .project-card {
        background: #fff;
        border-radius: 20px;
        padding: 1rem;
        width: 280px;
        height: 400px;
        margin: 0 20px;
        text-align: center;
        position: absolute;
        top: 50%;
        transform: translateY(-50%) translateX(0) scale(0.8);
        opacity: 0.5;
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        transition: all 0.5s ease;
        border: 4px solid transparent;
        background-clip: padding-box;
        overflow: hidden;
    }

    .project-card::before {
        content: '';
        position: absolute;
        top: -4px;
        left: -4px;
        right: -4px;
        bottom: -4px;
        z-index: -1;
        background: linear-gradient(45deg, #00c6ff, #00ff7f);
        border-radius: 24px;
    }

    .project-card.active {
        transform: translate(-50%, -50%) scale(1);
        left: 50%;
        opacity: 1;
        z-index: 3;
        border: 4px solid transparent;
    }

    .project-link {
        text-decoration: none;
        color: inherit;
    }

    .project-image {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-radius: 10px;
        transition: transform 0.3s ease;
    }

    .project-title {
        font-size: 1.8rem;
        margin-top: 1rem;
    }

    .project-description {
        font-size: 1rem;
        margin-top: 0.5rem;
        color: #666;
    }

    /* Footer : "Voir plus" ou "Privé" */
    .project-footer {
        margin-top: 1rem;
        font-size: 1rem;
        color: #28a745;
        font-weight: bold;
    }

    /* Hover effet */
    .project-card.active:hover .project-image {
        transform: scale(1.05);
    }

    /* Carousel buttons */
    .carousel-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.5);
        border: none;
        font-size: 2rem;
        color: white;
        padding: 0.5rem;
        cursor: pointer;
        border-radius: 50%;
        z-index: 10;
    }

    .prev {
        left: 15px;
    }

    .next {
        right: 15px;
    }

    .carousel-btn:hover {
        background: rgba(0, 0, 0, 0.7);
    }

    .carousel-dots {
        margin-top: 1rem;
    }

    .dot {
        height: 12px;
        width: 12px;
        margin: 0 5px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        transition: background-color 0.3s;
        cursor: pointer;
    }

    .dot.active {
        background-color: #28a745;
    }
</style>
<script>
    const cards = document.querySelectorAll('.project-card');
    const dots = document.querySelectorAll('.dot');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    let currentIndex = 0;

    function updateCarouselPosition() {
        cards.forEach((card, index) => {
            if (index === currentIndex) {
                card.classList.add('active');
                card.style.left = '50%';
                card.style.transform = 'translate(-50%, -50%) scale(1)';
                card.style.zIndex = 3;
            } else if (index === (currentIndex - 1 + cards.length) % cards.length) {
                card.classList.remove('active');
                card.style.left = '20%';
                card.style.transform = 'translate(-50%, -50%) scale(0.8)';
                card.style.zIndex = 2;
            } else if (index === (currentIndex + 1) % cards.length) {
                card.classList.remove('active');
                card.style.left = '80%';
                card.style.transform = 'translate(-50%, -50%) scale(0.8)';
                card.style.zIndex = 2;
            } else {
                card.classList.remove('active');
                card.style.left = '50%';
                card.style.transform = 'translate(-50%, -50%) scale(0.6)';
                card.style.zIndex = 1;
            }
        });

        dots.forEach(dot => dot.classList.remove('active'));
        dots[currentIndex].classList.add('active');
    }

    function prevSlide() {
        currentIndex = (currentIndex - 1 + cards.length) % cards.length;
        updateCarouselPosition();
    }

    function nextSlide() {
        currentIndex = (currentIndex + 1) % cards.length;
        updateCarouselPosition();
    }

    // Flèches
    prevBtn.addEventListener('click', prevSlide);
    nextBtn.addEventListener('click', nextSlide);

    // Dots
    dots.forEach(dot => {
        dot.addEventListener('click', (e) => {
            currentIndex = parseInt(e.target.dataset.index);
            updateCarouselPosition();
        });
    });

    // Init
    updateCarouselPosition();
</script>
